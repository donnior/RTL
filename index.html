<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Rtl by donnior</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Rtl</h1>
        <p class="header">RTL means R-tag library. It's a tag library for JSP.</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/donnior/RTL/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/donnior/RTL/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/donnior/RTL">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/donnior">donnior</a></p>


      </header>
      <section>
        <p>There are three category tags in the package:</p>

<ul>
<li>Template Tags</li>
<li>Paginate Tags</li>
<li>Html Tags</li>
</ul><h1>Installation</h1>

<p>Add dependency in maven. currently you need to install the artifact manually</p>

<div class="highlight"><pre><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>me.donnior<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>rtl<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>0.1<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>

<h1>Templating Tags</h1>

<h2>How to use</h2>

<p>Set the template page in web.xml, make sure the param name is <code>RTLTempatePage</code>; if not, RTL will use the default template page which is <code>WEB-INF/views/layout/template.jsp</code></p>

<div class="highlight"><pre><span class="nt">&lt;context-param&gt;</span>
    <span class="nt">&lt;param-name&gt;</span>RTLTempatePage<span class="nt">&lt;/param-name&gt;</span>
    <span class="nt">&lt;param-value&gt;</span>/WEB-INF/views/layout/template.jsp<span class="nt">&lt;/param-value&gt;</span>
<span class="nt">&lt;/context-param&gt;</span>
</pre></div>

<p>Define your template page</p>

<div class="highlight"><pre><span class="err">&lt;</span>%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%&gt;
<span class="err">&lt;</span>%@ taglib prefix="r" uri="r-tag"%&gt;

<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;r:yieldTitle</span> <span class="na">prefix=</span><span class="s">"Gloable Title | "</span><span class="nt">&gt;&lt;/r:yieldTitle&gt;</span>

<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"style.css"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">media=</span><span class="s">"screen"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;r:yieldStylesheets&gt;&lt;/r:yieldStylesheets&gt;</span>

<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"jquery-1.7.2.min.js"</span> <span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;r:yieldJavascripts</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"body"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"sidebar"</span><span class="nt">&gt;</span>

        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"main"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"content"</span> <span class="nt">&gt;</span>
                <span class="nt">&lt;r:yieldBody&gt;&lt;/r:yieldBody&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>

<p>Use the template in your every page needed to be templated. Like this:</p>

<div class="highlight"><pre><span class="err">&lt;</span>%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;

<span class="err">&lt;</span>%@ taglib prefix="r" tagdir="r-tag"%&gt;

<span class="nt">&lt;r:stylesheet</span> <span class="na">name=</span><span class="s">"/resources/styles/input.css"</span><span class="nt">&gt;&lt;/r:javascript&gt;</span>

<span class="nt">&lt;r:javascript</span> <span class="na">name=</span><span class="s">"/resources/js/input.js"</span><span class="nt">&gt;&lt;/r:javascript&gt;</span>

<span class="nt">&lt;r:layout</span> <span class="na">title=</span><span class="s">"title for this page"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h3&gt;</span>page title<span class="nt">&lt;/h3&gt;</span>
    <span class="nt">&lt;ul&gt;&lt;li&gt;</span>...<span class="nt">&lt;/li&gt;&lt;/ul&gt;</span>   
<span class="nt">&lt;/r:layout&gt;</span>
</pre></div>

<h2>Tags Explain</h2>

<ul>
<li>yieldTitle<br><code>Used in template page, can set the single page's title</code>
</li>
<li>yieldStylesheets<br><code>Used in template page, add the page specific style</code>
</li>
<li>yieldJavascripts<br><code>Used in template page, add the page specific javascript</code>
</li>
<li>yieldBody<br><code>Used in template page, output the your templated page</code>
</li>
<li>layout<br><code>Used in templated page, declare current page needs templated</code>
</li>
<li>stylesheet<br><code>Used in templated page, specify one stylesheet which needed by current page</code>
</li>
<li>javascript<br><code>Used in templated page, specify one javascript which needed by current page</code>
</li>
</ul><h1>Paginate Tags</h1>

<h2>How to use</h2>

<p>Set the i18n resouces needed by the paginate tag, this step is required.</p>

<pre><code>default.paginate.label.previous = Previous Page
default.paginate.label.next = Next Page
</code></pre>

<p>Use the PaginateSupportArray to wrap your normal List which will be used on the paginating page.</p>

<div class="highlight"><pre><span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">listAllUsers</span><span class="o">(</span><span class="kt">int</span> <span class="n">page</span><span class="o">,</span> <span class="kt">int</span> <span class="n">pageSize</span><span class="o">){</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">users</span> <span class="o">=</span> <span class="c1">// get record from database</span>
    <span class="kt">int</span> <span class="n">total</span> <span class="o">=</span> <span class="c1">//count from database</span>
    <span class="n">PaginateSupportArray</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaginateSupportArray</span><span class="o">(</span><span class="n">users</span><span class="o">);</span>
    <span class="n">list</span><span class="o">.</span><span class="na">setTotal</span><span class="o">(</span><span class="n">total</span><span class="o">);</span>
    <span class="n">list</span><span class="o">.</span><span class="na">setPage</span><span class="o">(</span><span class="n">page</span><span class="o">);</span>
    <span class="n">list</span><span class="o">.</span><span class="na">setPageSize</span><span class="o">(</span><span class="n">pageSize</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">list</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

<p>Use the wrapped List in jsp</p>

<div class="highlight"><pre><span class="nt">&lt;r:paginate</span> <span class="na">data=</span><span class="s">"${results}"</span> <span class="nt">/&gt;</span>
</pre></div>

<h2>Customize Style</h2>

<p>The paginate tag will generate the following html code without any specific styles, you can set styles in your css file.</p>

<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pagination"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/xxx?page=9"</span> <span class="na">title=</span><span class="s">"Next Page"</span> <span class="na">class=</span><span class="s">"label pre"</span><span class="nt">&gt;</span>Previous Page<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/xxx?page=10"</span> <span class="na">class=</span><span class="s">"number current"</span><span class="nt">&gt;</span>10<span class="nt">&lt;/a&gt;</span>  
    <span class="nt">&lt;span&gt;</span>...<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/xxx?page=31"</span> <span class="na">class=</span><span class="s">"number"</span><span class="nt">&gt;</span>31<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/xxx?page=11"</span> <span class="na">title=</span><span class="s">"Next Page"</span> <span class="na">class=</span><span class="s">"label next"</span><span class="nt">&gt;</span>Next Page<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<h2>Paginate Tag's attributes explain</h2>

<table>
<tr>
<th>Attribute Name</th>
<th>Required</th>
<th>Usage</th>
<th>Note</th>
    </tr>
<tr>
<td>data</td>
<td>Y</td>
<td>the data list which got pagination info from</td>
<td>the data object must be an instance of PaginateSupportArray</td>
</tr>
<tr>
<td>path</td>
<td>N</td>
<td>customzied url for links in the pagination</td>
<td>RTL will get it automaticly if it's not given.</td>
</tr>
<tr>
<td>pageVar</td>
<td>N</td>
<td>the variable name which identify the page info</td>
<td>default is "page"</td>
</tr>
<tr>
<td>preLabel</td>
<td>N</td>
<td>the text will be displayed as the previous page link label</td>
<td>got from i18n if not setted</td>
</tr>
<tr>
<td>nextLabel</td>
<td>N</td>
<td>the text will be displayed as the next page link label</td>
<td>got from i18n if not setted</td>
</tr>
</table><h1>Html Tags</h1>

<ul>
<li>a</li>
<li>table</li>
</ul><p>Both tags support dynamic attributes like css, id ...</p>

<h2>&lt;r:a&gt;</h2>

<p>Use <code>a</code> tag to create html link. It's a replacement of JSTL's <code>&lt;c:url&gt;</code></p>

<h3>Example</h3>

<div class="highlight"><pre><span class="nt">&lt;r:a</span> <span class="na">class=</span><span class="s">"link_a"</span> <span class="na">href=</span><span class="s">"/user/${user.id}"</span><span class="nt">&gt;</span>${user.login}<span class="nt">&lt;/r:a&gt;</span>
</pre></div>

<h2>&lt;r:table&gt; &amp; &lt;r:col&gt;</h2>

<p>RTL's <code>table</code> tag is a very simple solution for rendering data table. If you want more powerful solution, the <a href="http://www.displaytag.org/">Display Tag</a> is a recommendation.</p>

<p>Use <code>&lt;r:table&gt;</code> and <code>&lt;r:col&gt;</code> to define a data table.</p>

<h3>Example</h3>

<div class="highlight"><pre><span class="nt">&lt;r:table</span> <span class="na">data=</span><span class="s">"${users}"</span> <span class="na">var=</span><span class="s">"user"</span> <span class="na">id=</span><span class="s">"tbl_1"</span> <span class="na">class=</span><span class="s">"table"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;r:col</span> <span class="na">headerKey=</span><span class="s">"user.login.label"</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;r:a</span> <span class="na">class=</span><span class="s">"link_a"</span> <span class="na">href=</span><span class="s">"/user/${user.id}"</span><span class="nt">&gt;</span>${user.login}<span class="nt">&lt;/r:a&gt;</span>
  <span class="nt">&lt;/r:col&gt;</span>
  <span class="nt">&lt;r:col</span> <span class="na">header=</span><span class="s">"Mail"</span><span class="nt">&gt;</span>${user.email}<span class="nt">&lt;/r:col&gt;</span>
  <span class="nt">&lt;r:col</span> <span class="na">header=</span><span class="s">"Operation"</span><span class="nt">&gt;&lt;/r:col&gt;</span>
<span class="nt">&lt;/r:table&gt;</span>
</pre></div>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>